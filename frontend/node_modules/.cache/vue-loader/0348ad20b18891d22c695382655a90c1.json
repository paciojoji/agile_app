{"remainingRequest":"D:\\xampp\\htdocs\\agile_app\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xampp\\htdocs\\agile_app\\frontend\\src\\components\\EditData.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xampp\\htdocs\\agile_app\\frontend\\src\\components\\EditData.vue","mtime":1633766646000},{"path":"D:\\xampp\\htdocs\\agile_app\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xampp\\htdocs\\agile_app\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xampp\\htdocs\\agile_app\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xampp\\htdocs\\agile_app\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0MicNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJFZGl0RGF0YSIsICAgIA0KICAgIGRhdGE6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGFnaWxlX3R5cGVzOiB7MTonVmFsdWVzJywyOidQcmluY2lwbGVzJ30sDQogICAgICAgICAgICBlZGl0X2Zvcm06IHsNCiAgICAgICAgICAgICAgICBhZ2lsZV9pZDogMCwNCiAgICAgICAgICAgICAgICB0eXBlOiAwLA0KICAgICAgICAgICAgICAgIHRpdGxlOiAiIiwNCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIiINCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsgICAgICAgICAgICAgICAgDQogICAgICBnZXRBZ2lsZURhdGEoKXsgICAgICAgIA0KICAgICAgICB2YXIgX3RoaXMgPSB0aGlzICAgICAgICAgICAgICAgIA0KICAgICAgICBfdGhpcy5lZGl0X2Zvcm0uYWdpbGVfaWQgID0gdGhpcy5hZ2lsZV9kYXRhLmFnaWxlX2lkDQogICAgICAgIF90aGlzLmVkaXRfZm9ybS50eXBlICA9IHRoaXMuYWdpbGVfZGF0YS50eXBlDQogICAgICAgIF90aGlzLmVkaXRfZm9ybS50aXRsZSAgPSB0aGlzLmFnaWxlX2RhdGEudGl0bGUNCiAgICAgICAgX3RoaXMuZWRpdF9mb3JtLmRlc2NyaXB0aW9uICA9IHRoaXMuYWdpbGVfZGF0YS5kZXNjcmlwdGlvbiAgICAgICAgDQogICAgICAgIA0KICAgICAgfSwNCiAgICAgIGNoZWNrRm9ybVZhbGlkaXR5KCl7ICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgaWYodGhpcy5lZGl0X2Zvcm0udHlwZSA9PSBudWxsIHx8DQogICAgICAgICAgdGhpcy5lZGl0X2Zvcm0udGl0bGUgPT0gbnVsbCB8fA0KICAgICAgICAgIHRoaXMuZWRpdF9mb3JtLmRlc2NyaXB0aW9uID09IG51bGwpDQogICAgICAgIHsNCiAgICAgICAgICB0aGlzLmRpc3BsYXlUb2FzdCgnZXJyb3InLCdQbGVhc2UgZmlsbCBvdXQgdGhlIHJlcXVpcmVkIGZpZWxkcy4nKTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBoYW5kbGVPayhidk1vZGFsRXZ0KSB7DQogICAgICAgIGJ2TW9kYWxFdnQucHJldmVudERlZmF1bHQoKQ0KICAgICAgICB0aGlzLnN1Ym1pdEZvcm0oKQ0KICAgICAgfSwNCiAgICAgIHN1Ym1pdEZvcm0oKXsNCiAgICAgICAgdGhpcy5zaG93TG9hZGluZygpOw0KICAgICAgICBpZih0aGlzLmNoZWNrRm9ybVZhbGlkaXR5KCkpeyAgICAgICAgICANCiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgICAgIFN3YWwuZmlyZSh7DQogICAgICAgICAgICAgIHRpdGxlOiAnQ29uZmlybScsDQogICAgICAgICAgICAgIHRleHQ6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2F2ZSB5b3VyIGRhdGE/JywNCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGBTYXZlYCwNCiAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsNCiAgICAgICAgICAgICAgU3dhbC5zaG93TG9hZGluZygpDQoNCiAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkNCiAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJhZ2lsZV9pZCIsIHRoaXMuZWRpdF9mb3JtLmFnaWxlX2lkKQ0KICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInRpdGxlIiwgdGhpcy5lZGl0X2Zvcm0udGl0bGUpDQogICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZGVzY3JpcHRpb24iLCB0aGlzLmVkaXRfZm9ybS5kZXNjcmlwdGlvbikNCiAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJ0eXBlIiwgdGhpcy5lZGl0X2Zvcm0udHlwZSkNCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIHRoaXMuJGFnaWxlX2FwcC5wb3N0KCIvdXBkYXRlLWFnaWxlLyIsIGZvcm1EYXRhKQ0KICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsgDQogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3JlZnJlc2hEYXRhJyk7DQogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VFZGl0TW9kYWwoKTsNCiAgICAgICAgICAgICAgICAgICAgICBTd2FsLmNsb3NlKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXNwbGF5VG9hc3QoJ3N1Y2Nlc3MnLHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQVhJT1MgRVJST1I6ICIgKyBlcnJvcik7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICByZXNldE1vZGFsKCl7DQogICAgICAgICAgdGhpcy5lZGl0X2Zvcm0gPSB7DQogICAgICAgICAgICAgIGFnaWxlX2lkOiAwLA0KICAgICAgICAgICAgICB0eXBlOiAiIiwNCiAgICAgICAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIiINCiAgICAgICAgICB9Ow0KICAgICAgfSwgICAgICANCiAgICAgIGNsb3NlRWRpdE1vZGFsKCl7DQogICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgnZWRpdC1kYXRhLW1vZGFsJykNCiAgICAgICAgdGhpcy5yZXNldE1vZGFsKCk7ICAgICAgICAgIA0KICAgICAgfSwNCiAgICB9DQp9DQo="},{"version":3,"sources":["EditData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditData.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-modal\r\n    name=\"edit-data-modal\"\r\n    id=\"edit-data-modal\"\r\n    ref=\"modal\"\r\n    title=\"Edit Agile Data\"\r\n    ok-title=\"Submit\"\r\n    ok-only\r\n    @hidden=\"resetModal\"\r\n    @ok=\"handleOk\"\r\n    :static=\"true\"\r\n  >\r\n    <form ref=\"form\" @submit.stop.prevent=\"submitForm\">\r\n      <b-form-group\r\n        label=\"Type\"\r\n        label-for=\"type-input\"\r\n        invalid-feedback=\"Type is required\"\r\n      >\r\n        <b-form-select\r\n          v-model=\"edit_form.type\"\r\n          :options=\"agile_types\"\r\n          required\r\n        ></b-form-select>\r\n      </b-form-group>\r\n\r\n      <b-form-group\r\n        label=\"Title\"\r\n        label-for=\"title-input\"\r\n        invalid-feedback=\"Title is required\"\r\n      >\r\n        <b-form-input\r\n          id=\"title-input\"\r\n          v-model=\"edit_form.title\"\r\n          required\r\n        ></b-form-input>\r\n      </b-form-group>\r\n\r\n      <b-form-group\r\n        label=\"Description\"\r\n        label-for=\"description-input\"\r\n        invalid-feedback=\"Description is required\"\r\n        rows=\"3\"\r\n      >\r\n        <b-form-textarea\r\n          id=\"description-input\"\r\n          v-model=\"edit_form.description\"\r\n          required\r\n        ></b-form-textarea>\r\n      </b-form-group>\r\n    </form>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport Swal from 'sweetalert2'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: \"EditData\",    \r\n    data: () => {\r\n        return {\r\n            agile_types: {1:'Values',2:'Principles'},\r\n            edit_form: {\r\n                agile_id: 0,\r\n                type: 0,\r\n                title: \"\",\r\n                description: \"\"\r\n            },\r\n        }\r\n    },\r\n    methods: {                \r\n      getAgileData(){        \r\n        var _this = this                \r\n        _this.edit_form.agile_id  = this.agile_data.agile_id\r\n        _this.edit_form.type  = this.agile_data.type\r\n        _this.edit_form.title  = this.agile_data.title\r\n        _this.edit_form.description  = this.agile_data.description        \r\n        \r\n      },\r\n      checkFormValidity(){                    \r\n        if(this.edit_form.type == null ||\r\n          this.edit_form.title == null ||\r\n          this.edit_form.description == null)\r\n        {\r\n          this.displayToast('error','Please fill out the required fields.');\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      },\r\n      handleOk(bvModalEvt) {\r\n        bvModalEvt.preventDefault()\r\n        this.submitForm()\r\n      },\r\n      submitForm(){\r\n        this.showLoading();\r\n        if(this.checkFormValidity()){          \r\n          var _this = this;\r\n          Swal.fire({\r\n              title: 'Confirm',\r\n              text: 'Are you sure you want to save your data?',\r\n              showCancelButton: true,\r\n              confirmButtonText: `Save`,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              Swal.showLoading()\r\n\r\n              var formData = new FormData()\r\n              formData.append(\"agile_id\", this.edit_form.agile_id)\r\n              formData.append(\"title\", this.edit_form.title)\r\n              formData.append(\"description\", this.edit_form.description)\r\n              formData.append(\"type\", this.edit_form.type)\r\n              \r\n              this.$agile_app.post(\"/update-agile/\", formData)\r\n              .then(response => {\r\n                  if (response.status === 200) { \r\n                      _this.$emit('refreshData');\r\n                      _this.closeEditModal();\r\n                      Swal.close();\r\n\r\n                      _this.displayToast('success',response.data.message);\r\n                  }\r\n              })\r\n              .catch(error => {\r\n                  console.log(\"AXIOS ERROR: \" + error);\r\n              });\r\n            }\r\n          })\r\n        }\r\n      },\r\n      resetModal(){\r\n          this.edit_form = {\r\n              agile_id: 0,\r\n              type: \"\",\r\n              title: \"\",\r\n              description: \"\"\r\n          };\r\n      },      \r\n      closeEditModal(){\r\n        this.$bvModal.hide('edit-data-modal')\r\n        this.resetModal();          \r\n      },\r\n    }\r\n}\r\n</script>"]}]}